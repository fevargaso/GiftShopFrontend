<div class="amazon-container">

  <header class="search-header">
    <div class="search-bar-wrapper">
      <nz-input-group nzSize="large">
        <input
          type="text"
          nz-input
          placeholder="Search..."
          [(ngModel)]="params.search"
          (ngModelChange)="onFilterChange()" />
      </nz-input-group>
    </div>
  </header>

  <main class="content-layout">

    <div class="amazon-vertical-list" *ngIf="viewMode === 'list' && products?.length">

      <div *ngFor="let product of products" class="amazon-list-item">

        <a class="item-link" [routerLink]="['/products', product.id]">

          <div class="img-wrapper">

            <img
              [src]="product.imageUrl || 'assets/logo.png'"
              [alt]="product.name"
              class="product-img"
            />
          </div>

          <div class="details-wrapper">
            <div class="text-content">
              <h2 class="item-title">
                {{ product.description || product.name }}
              </h2>

              <div class="stars-row">
                <span class="stars">★★★★☆</span>
                <span class="review-count">245 reviews</span>
              </div>
            </div>

            <div class="price-action-side">
              <div class="price-amazon">
                <span class="symbol">$</span>
                <span class="whole">
                  {{ product.price | number:'1.0-0' }}
                </span>
              </div>
            </div>
          </div>

        </a>
      </div>
    </div>

    <ng-template #emptyState>
      <div class="no-results">
        <img src="assets/logo.png" alt="No results" class="empty-img">
        <h3>Can't find what you're looking for?</h3>
        <p>Try checking the spelling or using more general terms.</p>
      </div>
    </ng-template>

    <footer class="pagination-footer" *ngIf="totalItems > params.pageSize">
      <nz-pagination
        [(nzPageIndex)]="params.page"
        [nzTotal]="totalItems"
        [nzPageSize]="params.pageSize"
        (nzPageIndexChange)="onPageChange($event)">
      </nz-pagination>
    </footer>

  </main>
</div>
